<html>
    <head>
        <title>Welcome to UConn's Job Search Database</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css"
            href="https://cdn.datatables.net/1.10.6/css/jquery.dataTables.css">
        </link>
<<<<<<< HEAD
        <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" media="screen">
	</head>
   <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
        
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.6/js/jquery.dataTables.min.js">
    </script>
        
        <script>
        $(document).ready(function() {
            var u = localStorage.getItem("user");
        		$("#example").DataTable({
                    
      				"paging" : false,
      				"ordering" : false,
      				"info" : false,
      				"searching": false,
      				"ajax" : {
        					"url" : "new_jobs/2001-01-01/2008-01-01",//seeker_jobs/" + u,
							"dataSrc" : "",
      				},
      				columns: [
            			{ data: "JobTitle" },
            			{ data: "JListDate" },
          			{ data: "JobID" },
      			]
   			});
        
				$("#search").click(function(){
            	var url = "searchscreen"; //"http://127.0.0.1:8080/figure3.html";
                $(location).attr('href',url);
            });
            
        		$("#manageapplications").click(function(){
            	var url = "manageapplications"; //"http://127.0.0.1:8080/figure3.html";
=======
    
     
        <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" media="screen">
</head>
        <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
        
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.6/js/jquery.dataTables.min.js">
    </script>
        <script>
        $(document).ready(function() {
          /* $.ajax({
                    url: "seeker_jobs/Bailey", 
                    type: "GET",
                    success:
                        function(result){
                            alert(result.name);
                            //var url = "main";//http://127.0.0.1:8080/figure6.html";
                            //$(location).attr('href',url);
                            //$("#login").hide();
                            //$("#nextpage").show();
                        },
                    error: 
                        function(result){
                           alert(result);    
                        }
                        
           }); */
            var u = localStorage.getItem("user");
        $("#example").DataTable({
      "paging" : false,
      "ordering" : false,
      "info" : false,
      "searching": false,
      "ajax" : {
         "url" : "new_jobs/2001-01-01/2008-01-01",//seeker_jobs/" + u,
         "dataSrc" : "",
      },
      columns: [
//ULName":"Bailey","UFName":"Eric","CName":"Gefion, Inc.","JobID":"28","JListDate":"2001-01-28","JobTitle":"Physical Scientists"
            {
                render: function ( data, type, row ) {
                    if ( type === 'display' ) {
                        if ( data == 'Y' ) {
                           return '<input type="checkbox" checked class="editor-active">';
                        } else {
                           return '<input type="checkbox" class="editor-active">';
                        }
                    }
                    return data;
                },
                className: "dt-body-center"
            },
            { data: "JobTitle" },
            { data: "JListDate" },
          { data: "JobID" },
      ]
   });
        
        $("#search").click(function(){
            var url = "searchscreen"; //"http://127.0.0.1:8080/figure3.html";
                $(location).attr('href',url);
            });
            
        $("#manageapplications").click(function(){
            var url = "manageapplications"; //"http://127.0.0.1:8080/figure3.html";
>>>>>>> origin/master
                $(location).attr('href',url);
            });
            
         $("#updateresume").click(function(){
            var url = "resumeupdate"; //"http://127.0.0.1:8080/figure3.html";
                $(location).attr('href',url);
            });
            
         $("#updateprofile").click(function(){
            var url = "updateprofile"; //"http://127.0.0.1:8080/figure3.html";
                $(location).attr('href',url);
            });
            
<<<<<<< HEAD
 			$('#example tbody').on( 'click', 'tr', function () {
        			$(this).toggleClass('selected');
    			} );

        $("#applytoselected").click(function(){
            var t = $("#example").DataTable();
            var ids = [];
				var sr = t.rows('.selected').data();
				sr.each(function(row) {
					ids[ids.length] = row.JobID;
				});
				var data = {
					"username" : u,	
					"jobids" : ids
				};
=======
        $("#applytoselected").click(function(){
            var t = $("#example").DataTable();
            var ids = [];
            $("input:checked", t.rows().nodes()).each(function(data){
                console.log($(this).val());
                ids[ids.length] = "12";
            });
            console.log(ids);
>>>>>>> origin/master
            $.ajax({
                    url: "add_jobs", // login.php
                    type: "POST",
                    data: data,
                    success:
                        function(result){
                            alert(result);
                           // var url = "main";//http://127.0.0.1:8080/figure6.html";
                            //$(location).attr('href',url);
                            //$("#login").hide();
                            //$("#nextpage").show();
                        },
                    error: 
                        function(result){
<<<<<<< HEAD
                           alert("Error:" + result);    
=======
                           alert(result);    
>>>>>>> origin/master
                        }
                        
                });
        });
        
        $("#selectall").click(function(){
            var t = $("#example").DataTable();
<<<<<<< HEAD
            t.rows(function(i,d,n){
                return true;
            }).nodes().to$().addClass("selected");
=======
            $(":checkbox", t.rows().nodes()).prop("checked",true);
>>>>>>> origin/master
            
        });   
            
        $("#clearall").click(function(){
<<<<<<< HEAD
            var t = $("#example").DataTable();
            t.rows(function(i,d,n){
                return true;
            }).nodes().to$().removeClass("selected");
=======
             var t = $("#example").DataTable();
            $(":checkbox", t.rows().nodes()).prop("checked",false);
>>>>>>> origin/master
        });
        $("#exit").click(function(){
            localStorage.removeItem("user");
            var url = "login"; //"http://127.0.0.1:8080/figure3.html";
                $(location).attr('href',url);
            });
            
        });    
        
        
    </script>
            
    
    <body>
        <h1> Job Search Database </h1>
        
        <p>
            Welcome to the main screen.
            </p>
        <p>
            <button id=search>Search</button>
            <button id=manageapplications>Manage Applications</button>
            <button id=updateresume>Update Resume</button>
            <button id=updateprofile>Update Profile</button>
<<<<<<< HEAD
            <button id=applytoselected>Apply to Selected</button>
            <button id=selectall>Select All</button>
            <button id=clearall>Clear All</button>
            <button id=exit>Exit</button>
=======
>>>>>>> origin/master
            
        </p>
        
        <table id="example" class="display" cellspacing="0" width="100%">
        <thead>
            <tr>
<<<<<<< HEAD
=======
                <th>Select</th>
>>>>>>> origin/master
                <th>Company</th>
                <th>List Date</th>
                <th>Job ID</th>
            </tr>
        </thead>
            </table>
<<<<<<< HEAD
=======
         <p>
            
            <button id=applytoselected>Apply to Selected</button>
            <button id=selectall>Select All</button>
            <button id=clearall>Clear All</button>
            <button id=exit>Exit</button>
            
        </p>
>>>>>>> origin/master


    
    </body>
<<<<<<< HEAD
<html>
=======
<html>
>>>>>>> origin/master
